{"version":3,"sources":["webpack:///src/components/dataManager/page/recycle.vue","webpack:///./src/components/dataManager/page/recycle.vue?278f","webpack:///./src/components/dataManager/page/recycle.vue"],"names":["recycle","name","data","form_id","len","showMore","formList","toolBarConfig","slots","buttons","is_add","tablePage","currentPage","pageSize","tableColumn","tableData","copyData","currentData","queryForm","created","this","getFormList","watch","newValue","getTableColumn","methods","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","$http","get","sent","code","Object","interctor","t0","error","stop","showMoreFunc","length","_this2","_callee2","_context2","undefined","abrupt","params","push","field","title","value","queryRecycleData","message","_this3","_callee3","_context3","post","columns","getQueryList","formatData","JSON","parse","stringify_default","console","log","page","handlePageChange","_ref","slice","keys","keys_default","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","done","key","col_name","err","return","resetForm","$refs","resetFields","$message","success","recover","_this4","_callee4","select","record","_context4","recycleTable","getCurrentRecord","filter","item","del_id","recoverAll","_this5","_callee5","_context5","clear","_this6","$confirm","confirmButtonText","cancelButtonText","type","then","_callee6","_context6","id","clearAll","_this7","_callee7","_context7","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","tableDatum","assign_default","page_recycle","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","label-width","size","_l","index","span","prop","label","clearable","callback","$$v","$set","expression","_v","border","resizable","toolbar-config","row-config","isCurrent","scopedSlots","_u","fn","staticStyle","text-align","transfer","placeholder","margin-right","status","on","click","$event","proxy","layouts","current-page","page-size","total","update:currentPage","update:current-page","update:pageSize","update:page-size","page-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/18.93daa309619301c4c490.js","sourcesContent":["<template>\n  <div class=\"list-body\">\n    <el-row>\n      <el-form :model=\"queryForm\" ref=\"queryForm\" label-width=\"80px\" size=\"small\">\n        <el-col :span=\"8\" v-for=\"(item,index) in tableColumn.slice(0,len)\" :key=\"index\">\n          <el-form-item\n            :prop=\"item.field\"\n            :label=\"item.title\">\n            <el-input v-model=\"queryForm[item.field]\" clearable></el-input>\n          </el-form-item>\n        </el-col>\n      </el-form>\n    </el-row>\n    <vxe-grid\n      border\n      resizable\n      ref=\"recycleTable\"\n      :toolbar-config=\"toolBarConfig\"\n      :row-config=\"{isCurrent: true}\"\n      :columns=\"tableColumn\"\n      :data=\"currentData\"\n      class=\"dataList\">\n      <template #toolbar_buttons>\n        <div style=\"text-align: right\">\n          <vxe-select v-model=\"form_id\" clearable transfer placeholder=\"请选择要查看的表单\">\n            <vxe-option v-for=\"item in formList\"\n                        :key=\"item.value\"\n                        :value=\"item.value\"\n                        :label=\"item.label\"\n                        >\n            </vxe-option>\n          </vxe-select>\n          <span style=\"margin-right: 20px\">\n            <vxe-button status=\"primary\" @click=\"queryRecycleData(form_id)\">查询</vxe-button>\n            <vxe-button @click=\"resetForm\">重置</vxe-button>\n            <el-button v-if=\"!showMore\" type=\"text\" @click=\"showMoreFunc\"><i\n              class=\"el-icon-arrow-down\"></i>展开</el-button>\n            <el-button v-else type=\"text\" @click=\"showMoreFunc\"><i class=\"el-icon-arrow-up\"></i>收起</el-button>\n          </span>\n          <vxe-button status=\"success\" @click=\"clear\">彻底删除</vxe-button>\n          <vxe-button status=\"success\" @click=\"clearAll\">全部清空</vxe-button>\n          <vxe-button status=\"success\" @click=\"recover\">恢复数据</vxe-button>\n          <vxe-button status=\"success\" @click=\"recoverAll\">全部恢复</vxe-button>\n        </div>\n      </template>\n      <template #pager>\n        <vxe-pager\n          :layouts=\"['Sizes', 'PrevJump', 'PrevPage', 'Number', 'NextPage', 'NextJump', 'FullJump', 'Total']\"\n          :current-page.sync=\"tablePage.currentPage\"\n          :page-size.sync=\"tablePage.pageSize\"\n          :total=\"tableData.length\"\n          @page-change=\"handlePageChange\">\n        </vxe-pager>\n      </template>\n    </vxe-grid>\n  </div>\n</template>\n\n<script>\nimport {interceptor} from '../../../api/interctor'\nimport {error} from '../../../api/error'\n\nexport default {\n  name: 'recycle',\n  data () {\n    return {\n      form_id: '',\n      len: 3,\n      showMore: false,\n      formList: [],\n      toolBarConfig: {\n        slots: {\n          buttons: 'toolbar_buttons'\n        }\n      },\n      is_add: true,\n      tablePage: {\n        currentPage: 1,\n        pageSize: 10\n      },\n      tableColumn: [],\n      tableData: [],\n      copyData: [],\n      currentData: [],\n      queryForm: {}\n    }\n  },\n  created () {\n    this.getFormList()\n  },\n  watch: {\n    form_id (newValue) {\n      if (newValue) {\n        this.getTableColumn(newValue)\n      }\n    }\n  },\n  methods: {\n    async getFormList () {\n      try {\n        const res = await this.$http.get('/api/menu/form')\n        if (res.data.code !== 200) {\n          interceptor(res.data)\n        } else {\n          this.formList = res.data.data\n        }\n      } catch (e) {\n        error(e)\n      }\n    },\n    showMoreFunc () {\n      this.showMore = !this.showMore\n      if (this.showMore) {\n        this.len = this.tableColumn.length\n      } else {\n        this.len = 3\n      }\n    },\n    // eslint-disable-next-line camelcase\n    async getTableColumn (form_id) {\n      // eslint-disable-next-line camelcase\n      if (form_id === -1 || form_id === undefined) return\n      try {\n        const res = await this.$http.get('api/data/column', {params: {form_id: form_id}})\n        if (res.data.code !== 200) {\n          interceptor(res.data)\n        } else {\n          this.tableColumn = res.data.data\n          this.tableColumn.push({field: 'file', title: '附件', value: ''})\n          await this.queryRecycleData(form_id)\n        }\n      } catch (e) {\n        error(e.message)\n      }\n    },\n    // eslint-disable-next-line camelcase\n    async queryRecycleData (form_id) {\n      try {\n        const res = await this.$http.post('api/recycle/query', {form_id: form_id, columns: this.getQueryList()})\n        if (res.data.code !== 200) {\n          interceptor(res.data)\n        } else {\n          this.copyData = res.data.data\n          this.tableData = this.formatData(JSON.parse(JSON.stringify(res.data.data)))\n          console.log(this.tableData)\n          this.page()\n        }\n      } catch (e) {\n        error(e.message)\n      }\n    },\n    handlePageChange ({currentPage, pageSize}) {\n      this.tablePage.currentPage = currentPage\n      this.tablePage.pageSize = pageSize\n      this.currentData = this.tableData.slice((currentPage - 1) * pageSize, pageSize * currentPage)\n    },\n    page () {\n      const pageSize = this.tablePage.pageSize\n      this.currentData = this.tableData.slice(0, pageSize)\n    },\n    getQueryList () {\n      let res = []\n      const keys = Object.keys(this.queryForm)\n      for (const key of keys) {\n        if (this.queryForm[key] !== '' && this.queryForm[key] !== null && this.queryForm[key] !== undefined) {\n          res.push({col_name: key, value: this.queryForm[key]})\n        }\n      }\n      return res\n    },\n    resetForm () {\n      this.$refs.queryForm.resetFields()\n      this.$message.success('查询表单已重置')\n    },\n    async recover () {\n      try {\n        const select = this.$refs.recycleTable.getCurrentRecord()\n        if (!select) {\n          return error('请选择要恢复的数据')\n        }\n        const record = this.copyData.filter(item => item.del_id === select.del_id)[0]\n        console.log(record)\n        const res = await this.$http.post('api/recycle/restore', {form_id: this.form_id, del_id: record.del_id, data: record.data})\n        if (res.data.code !== 200) {\n          interceptor(res.data)\n        } else {\n          await this.queryRecycleData(this.form_id)\n        }\n      } catch (e) {\n        error(e.message)\n      }\n    },\n    async recoverAll () {\n      try {\n        const res = await this.$http.post('api/recycle/restore/all', {}, {params: {form_id: this.form_id}})\n        if (res.data.code !== 200) {\n          interceptor(res.data)\n        } else {\n          await this.queryRecycleData(this.form_id)\n        }\n      } catch (e) {\n        error(e.message)\n      }\n    },\n    clear () {\n      const select = this.$refs.recycleTable.getCurrentRecord()\n      if (!select) {\n        return error('请选择要删除的记录')\n      }\n      this.$confirm('此操作会彻底删除数据, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(async () => {\n        try {\n          const res = await this.$http.post('api/recycle/delete', {}, {params: {id: select.del_id}})\n          if (res.data.code !== 200) {\n            interceptor(res.data)\n          } else {\n            await this.queryRecycleData(this.form_id)\n          }\n        } catch (e) {\n          error(e.message)\n        }\n      })\n    },\n    clearAll () {\n      this.$confirm('此操作会彻底删除数据, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(async () => {\n        try {\n          const res = await this.$http.post('api/recycle/clear', {}, {params: {form_id: this.form_id}})\n          if (res.data.code !== 200) {\n            interceptor(res.data)\n          } else {\n            await this.queryRecycleData(this.form_id)\n          }\n        } catch (e) {\n          error(e.message)\n        }\n      })\n    },\n    formatData (tableData) {\n      let res = []\n      for (let tableDatum of tableData) {\n        const data = JSON.parse(JSON.stringify(tableDatum['data']))\n        delete tableDatum.data\n        res.push(Object.assign(tableDatum, data))\n      }\n      return res\n    }\n  }\n}\n</script>\n\n<style scoped>\n.el-form{\n  width: 75%;\n  text-align: center;\n  margin: auto;\n}\n.dataList {\n  width: 80%;\n  margin: auto;\n}\n.list-body {\n  margin-top: 2%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/dataManager/page/recycle.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list-body\"},[_c('el-row',[_c('el-form',{ref:\"queryForm\",attrs:{\"model\":_vm.queryForm,\"label-width\":\"80px\",\"size\":\"small\"}},_vm._l((_vm.tableColumn.slice(0,_vm.len)),function(item,index){return _c('el-col',{key:index,attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"prop\":item.field,\"label\":item.title}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.queryForm[item.field]),callback:function ($$v) {_vm.$set(_vm.queryForm, item.field, $$v)},expression:\"queryForm[item.field]\"}})],1)],1)}),1)],1),_vm._v(\" \"),_c('vxe-grid',{ref:\"recycleTable\",staticClass:\"dataList\",attrs:{\"border\":\"\",\"resizable\":\"\",\"toolbar-config\":_vm.toolBarConfig,\"row-config\":{isCurrent: true},\"columns\":_vm.tableColumn,\"data\":_vm.currentData},scopedSlots:_vm._u([{key:\"toolbar_buttons\",fn:function(){return [_c('div',{staticStyle:{\"text-align\":\"right\"}},[_c('vxe-select',{attrs:{\"clearable\":\"\",\"transfer\":\"\",\"placeholder\":\"请选择要查看的表单\"},model:{value:(_vm.form_id),callback:function ($$v) {_vm.form_id=$$v},expression:\"form_id\"}},_vm._l((_vm.formList),function(item){return _c('vxe-option',{key:item.value,attrs:{\"value\":item.value,\"label\":item.label}})}),1),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-right\":\"20px\"}},[_c('vxe-button',{attrs:{\"status\":\"primary\"},on:{\"click\":function($event){return _vm.queryRecycleData(_vm.form_id)}}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('vxe-button',{on:{\"click\":_vm.resetForm}},[_vm._v(\"重置\")]),_vm._v(\" \"),(!_vm.showMore)?_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.showMoreFunc}},[_c('i',{staticClass:\"el-icon-arrow-down\"}),_vm._v(\"展开\")]):_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.showMoreFunc}},[_c('i',{staticClass:\"el-icon-arrow-up\"}),_vm._v(\"收起\")])],1),_vm._v(\" \"),_c('vxe-button',{attrs:{\"status\":\"success\"},on:{\"click\":_vm.clear}},[_vm._v(\"彻底删除\")]),_vm._v(\" \"),_c('vxe-button',{attrs:{\"status\":\"success\"},on:{\"click\":_vm.clearAll}},[_vm._v(\"全部清空\")]),_vm._v(\" \"),_c('vxe-button',{attrs:{\"status\":\"success\"},on:{\"click\":_vm.recover}},[_vm._v(\"恢复数据\")]),_vm._v(\" \"),_c('vxe-button',{attrs:{\"status\":\"success\"},on:{\"click\":_vm.recoverAll}},[_vm._v(\"全部恢复\")])],1)]},proxy:true},{key:\"pager\",fn:function(){return [_c('vxe-pager',{attrs:{\"layouts\":['Sizes', 'PrevJump', 'PrevPage', 'Number', 'NextPage', 'NextJump', 'FullJump', 'Total'],\"current-page\":_vm.tablePage.currentPage,\"page-size\":_vm.tablePage.pageSize,\"total\":_vm.tableData.length},on:{\"update:currentPage\":function($event){return _vm.$set(_vm.tablePage, \"currentPage\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.tablePage, \"currentPage\", $event)},\"update:pageSize\":function($event){return _vm.$set(_vm.tablePage, \"pageSize\", $event)},\"update:page-size\":function($event){return _vm.$set(_vm.tablePage, \"pageSize\", $event)},\"page-change\":_vm.handlePageChange}})]},proxy:true}])})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-45ff1938\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/dataManager/page/recycle.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-45ff1938\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./recycle.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./recycle.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./recycle.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-45ff1938\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./recycle.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-45ff1938\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dataManager/page/recycle.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}